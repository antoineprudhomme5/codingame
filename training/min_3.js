for(var a=readline().split(" "),e=[],i=0;i<a[7];i++)e.push(readline().split(" "));for(e=e.sort(function(i,e){return i[0]>e[0]});;){var b=readline().split(" "),c=parseInt(b[1]);if("-1"==b[0]&&"-1"==c&&"NONE"==b[2])print("WAIT");else if(0==c||c==a[1]-1)print("BLOCK");else{var t=0,i=c;if(b[0]!=a[3])if("RIGHT"==b[2])for(;!t&&i<a[1];)i==e[b[0]][1]&&(t=1),i++;else for(;!t&&i>0;)i==e[b[0]][1]&&(t=1),i--;else if("RIGHT"==b[2])for(;!t&&i<a[1];)i==a[4]&&(t=1),i++;else for(;!t&&i>0;)i==a[4]&&(t=1),i--;t?print("WAIT"):print("BLOCK")}}